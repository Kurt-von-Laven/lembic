<% @title = "Evaluator" %>
<h1>Evaluate</h1>

<%= render "current_variables" %>

<%= render "current_equations" %>
<p>Enter input variables in this form: {'varName' => value, 'varName2' => value2}</p>
<p>Enter output variables in this form: [{:name => 'varName'}, {:name => 'varName2'}]</p>
<p>Specify array outputs with min and max indices in this form: {:name => 'varName', :indices => {:min => 0, :max => 8759}}</p>
<%= form_for(:evaluator) do |f| %>
  <div>
    <ul class="input_values">
      <% i = 0 %>
      <% for input_variable in @input_variables %>
        <li>
          <%= f.label(:input_values, input_variable.name + ' = ', :for => "evaluator_input_value_#{i}") %>
          <%= f.text_field(:input_values, :id => "evaluator_input_value_#{i}", :name => 'evaluator[input_values][]') %>
        </li>
        <% i += 1 %>
      <% end %>
    </ul>
    <ul class="output_values">
      <% i = 0 %>
        <% for output_variable_name, output_variable_value in @output_variables %>
          <li>
            <%= f.label(:output_values, output_variable_name + ' = ', :for => "evaluator_output_value_#{i}") %>
            <%= f.text_field(:output_values, :id => "evaluator_output_value_#{i}", :name =>
            'evaluator[output_values][]', :value => output_variable_value[:value] ) %>
          </li>
        <% end %>
    </ul>
    <%= f.submit('Run Model', :class => "button") %>
  </div>
<% end %>
